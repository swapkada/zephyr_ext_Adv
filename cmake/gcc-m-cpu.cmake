# Determines what argument to give to -mcpu= based on the
# KConfig'uration and sets this to GCC_M_CPU

if("${ARCH}" STREQUAL "arm")
  if    (CONFIG_CPU_CORTEX_M0)
    set(GCC_M_CPU cortex-m0)
  elseif(CONFIG_CPU_CORTEX_M0PLUS)
    set(GCC_M_CPU cortex-m0plus)
  elseif(CONFIG_CPU_CORTEX_M3)
    set(GCC_M_CPU cortex-m3)
  elseif(CONFIG_CPU_CORTEX_M4)
    set(GCC_M_CPU cortex-m4)
  elseif(CONFIG_CPU_CORTEX_M7)
    set(GCC_M_CPU cortex-m7)
  elseif(CONFIG_CPU_CORTEX_M23)
    set(GCC_M_CPU cortex-m23)
  elseif(CONFIG_CPU_CORTEX_M33)
    set(GCC_M_CPU cortex-m33)
  else()
    message(FATAL_ERROR "Expected CONFIG_CPU_CORTEX_x to be defined")
  endif()
elseif("${ARCH}" STREQUAL "arc")
  if(CONFIG_SOC_QUARK_SE_C1000_SS)
    set(GCC_M_CPU quarkse_em)
  elseif(CONFIG_SOC_EM9D)
    set(GCC_M_CPU em4_fpus)
  elseif(CONFIG_SOC_EM7D)
    set(GCC_M_CPU em4_dmips)
  elseif(CONFIG_SOC_EM11D)
    set(GCC_M_CPU em4_fpuda)
  endif()
endif()
